!function(e){"use-strict";e.module("folioApp",["ngSanitize","ui.router","ngMaterial","folioPartials","angular-storage"])}(window.angular),function(e){e.module("folioApp").controller("NavigationCtrl",["$scope",function(e){this.topDirections=["left","up"],this.bottomDirections=["down","right"],this.isOpen=!1,this.availableModes=["md-fling","md-scale"],this.selectedMode="md-fling",this.availableDirections=["up","down","left","right"],this.selectedDirection="left"}])}(window.angular),function(e){function t(e,t){e.state("contact",{url:"/contact",templateUrl:"/partials/views/contact/view.html",controller:"ContactCtrl"})}t.$inject=["$stateProvider","$urlRouterProvider"],e.module("folioApp").config(t)}(window.angular),function(e){e.module("folioApp").controller("ContactCtrl",["$scope",function(e){console.log("Contact Ctrl")}])}(window.angular),function(e){e.module("folioApp").service("ContactService",["$q","$timeout","$http","store",function(e,t,o,r){}])}(window.angular),function(e){function t(e,t){e.state("folio",{url:"/folio",templateUrl:"/partials/views/folio/view.html",controller:"FolioCtrl"})}t.$inject=["$stateProvider","$urlRouterProvider"],e.module("folioApp").config(t)}(window.angular),function(e){e.module("folioApp").controller("FolioCtrl",["$scope","$timeout","$q","FolioService","store",function(t,o,r,n,i){function s(e){var o=e?t.filters.filter(a(e)):[];return o}function a(t){var o=e.lowercase(t);return function(e){return 0===e.indexOf(o)}}function l(o){var r=t.data.items;t.filteredItems=[],e.forEach(r,function(e,n){var i=e.category.toLowerCase();-1!==o.indexOf(i)&&t.filteredItems.push(r[n])})}function c(o){var r=t.data.items;t.filteredItems=[],e.forEach(r,function(n,i){var s=n.tags;console.log("tags: ",s.length),e.forEach(s,function(e,n){var i=e.toLowerCase();console.log("check for tag: ",i),-1!==o.indexOf(i)&&(t.filteredItems.push(r[n]),console.log("Add to array"))})})}function c(){var o=JSON.parse(i.get("categories")).selectedCategories;n.setSelectedCategories(o);var r=JSON.parse(i.get("tags")).selectedTags;n.setSelectedTags(r);var s=(JSON.parse(i.get("years")).selectedYears,t.data.items);t.filteredItems=[],console.log("selectedCategories: ",o),e.forEach(s,function(e,r){var n=e.category.toLowerCase();-1!==o.indexOf(n)&&(t.filteredItems.push(s[r]),console.log(n," was found in ",o))})}var u;t.readonly=!1,t.querySearch=s,t.selectedCategoryItem=null,t.selectedCategoryText=null,t.selectedCategories=[],t.selectedTagItem=null,t.selectedTagText=null,t.selectedTags=[],t.selectedYearItem=null,t.selectedYearText=null,t.selectedYears=[];var g=n.getData();g.then(function(e){if(t.data=e,t.filteredItems=t.data,JSON.parse(i.get("categories"))){var o=JSON.parse(i.get("categories")).selectedCategories;n.setSelectedCategories(o)}if(JSON.parse(i.get("tags"))){var r=JSON.parse(i.get("tags")).selectedTags;n.setSelectedTags(r)}c()}),t.$watchCollection("selectedCategories",function(t,o){e.equals(t,o)||t.length>0&&(n.setSelectedCategories(t),l(t))}),t.$watchCollection("selectedTags",function(t,o){e.equals(t,o)||t.length>0&&(n.setSelectedTags(t),c(t))}),t.$watchCollection("selectedYears",function(t,o){e.equals(t,o)||t.length>0&&n.setSelectedYears(t)}),t.openMenu=function(e,o,r){"categories"==r?(t.selectedCategories=n.getSelectedCategories(),t.filters=n.getUniqueCategories()):"tags"==r?(t.selectedTags=n.getSelectedTags(),t.filters=n.getUniqueTags()):"years"==r&&(t.selectedYears=n.getSelectedYears(),t.filters=n.getUniqueYears()),u=o,e(o)}}])}(window.angular),function(e){e.module("folioApp").filter("reverse",function(){return function(e,t){e=e||"";for(var o="",r=0;r<e.length;r++)o=e.charAt(r)+o;return t&&(o=o.toUpperCase()),o}})}(window.angular),function(e){e.module("folioApp").service("FolioService",["$q","$timeout","$http","store",function(t,o,r,n){var i=[],s=[],a=[];this.getData=function(){var o=t.defer();return r.get("common/data/folio.json").success(function(t){o.resolve(t),e.forEach(t.items,function(e){-1==i.indexOf(e.category)&&i.push(e.category);for(var t=0;t<e.tags.length;t++)-1==s.indexOf(e.tags[t])&&s.push(e.tags[t]);var o,r;o=moment(1e3*e.startDate),null!==e.endDate?r=moment(1e3*e.endDate):(r=moment(),-1==a.indexOf(moment(r).format("YYYY"))&&a.push(moment(r).format("YYYY")));var n=moment(r).format("YYYY")-moment(o).format("YYYY");if(n>0){var l=0;do{var c=(moment(),moment(o).add(l,"year")),u=moment(c).format("YYYY");-1==a.indexOf(u)&&a.push(u),l++}while(n>l)}else-1==a.indexOf(moment(r).format("YYYY"))&&a.push(moment(r).format("YYYY"))})}).error(function(e,t){console.error("Data error",t,e)}),o.promise},this.getUniqueCategories=function(){return i.sort().map(function(e){return e=e.toLowerCase()})},this.getUniqueTags=function(){return s.sort().map(function(e){return e=e.toLowerCase()})},this.getUniqueYears=function(){return a.sort().reverse().map(function(e){return e=e.toLowerCase()})},this.setSelectedCategories=function(e){this.selectedCategories=e,n.set("categories",JSON.stringify({selectedCategories:this.selectedCategories}))},this.getSelectedCategories=function(){var e=[];if(null!==n.get("categories")){var t=JSON.parse(n.get("categories")),o=t.selectedCategories;e=o.length>0?o:this.getUniqueCategories()}else e=this.getUniqueCategories();return e},this.setSelectedTags=function(e){this.selectedTags=e,n.set("tags",JSON.stringify({selectedTags:this.selectedTags}))},this.getSelectedTags=function(){var e=[];if(null!==n.get("tags")){var t=JSON.parse(n.get("tags")),o=t.selectedTags;e=o.length>0?o:this.getUniqueTags()}else e=this.getUniqueTags();return e},this.setSelectedYears=function(e){this.selectedYears=e,n.set("years",JSON.stringify({selectedYears:this.selectedYears}))},this.getSelectedYears=function(){var e=[];if(null!==n.get("years")){var t=JSON.parse(n.get("years")),o=t.selectedYears;e=o.length>0?o:this.getUniqueYears()}else e=this.getUniqueYears();return e}}])}(window.angular),function(e){function t(e,t){t.otherwise("/home"),e.state("home",{url:"/home",templateUrl:"/partials/views/home/view.html",controller:"HomeCtrl"})}t.$inject=["$stateProvider","$urlRouterProvider"],e.module("folioApp").config(t)}(window.angular),function(e){e.module("folioApp").controller("HomeCtrl",["$scope","HomeService",function(e,t){var o=t.getData();o.then(function(t){e.data=t})}])}(window.angular),function(e){e.module("folioApp").service("HomeService",["$q","$timeout","$http",function(e,t,o){var r=e.defer();o.get("common/data/home.json").success(function(e){r.resolve(e)}).error(function(e,t){console.error("Data error",t,e)}),this.getData=function(){return r.promise}}])}(window.angular),function(e){function t(e,t){e.state("resume",{url:"/resume",templateUrl:"/partials/views/resume/view.html",controller:"ResumeCtrl"})}t.$inject=["$stateProvider","$urlRouterProvider"],e.module("folioApp").config(t)}(window.angular),function(e){e.module("folioApp").controller("ResumeCtrl",["$scope",function(e){console.log("Resume Ctrl")}])}(window.angular),function(e){e.module("folioApp").service("ResumeService",["$q","$timeout","$http","store",function(e,t,o,r){}])}(window.angular);